syntax = "proto3";

package velez_api;

import "google/api/annotations.proto";

option go_package = "/velez_api";

service VelezAPI {
  rpc Version(Version.Request) returns (Version.Response) {
    option (google.api.http) = {
      post: "/version"
      body: "*"
    };
  };
  rpc CreateService(CreateService.Request) returns (CreateService.Response) {
    option (google.api.http) = {
      post: "/create_service"
      body: "*"
    };
  }
}

message Version {
  message Request {}

  message Response {
    string version = 1;
  }
}

message CreateService {
  message Request {
    string imageName = 1;
    float cpu_amount = 2;
    int32 ram_mb = 4;
    int32 memory_swap_mb = 5;
  }
  message Response {
    string uuid = 1;
    // later may be extended to return ip and port of given service
  }
}

